@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix crypto: <http://id.loc.gov/vocabulary/preservation/cryptographicHashFunctions#> .
@prefix neurolex: <http://neurolex.org/wiki/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix spm: <http://www.incf.org/ns/nidash/spm#> .
@prefix fsl: <http://www.incf.org/ns/nidash/fsl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix nidm: <http://www.incf.org/ns/nidash/nidm#> .
@prefix niiri: <http://iri.nidash.org/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix obo: <http://purl.obolibrary.org/obo/> .

niiri:cluster_definition_criteria_id a prov:Entity , nidm:ClusterDefinitionCriteria ;
	rdfs:label "Cluster Connectivity Criterion: 18" ;
	nidm:hasConnectivityCriterion nidm:voxel18connected .

niiri:inference_id a prov:Activity , nidm:ConjunctionInference ;
	rdfs:label "Conjunction Inference" ;
	nidm:hasAlternativeHypothesis nidm:OneTailedTest ;
    prov:used niiri:statistic_map_id, niiri:statistic_map_id_2, niiri:height_threshold_id, niiri:extent_threshold_id, niiri:display_map_id, niiri:peak_definition_criteria_id, niiri:cluster_definition_criteria_id, niiri:mask_id_1 ;
    prov:wasAssociatedWith niiri:software_id .

niiri:contrast_estimation_id prov:used niiri:beta_map_id_2 .

niiri:contrast_estimation_id_2 prov:used niiri:beta_map_id_3 .

niiri:contrast_estimation_id a prov:Activity , nidm:ContrastEstimation ;
	rdfs:label "Contrast estimation 1" ;
	prov:used niiri:mask_id_1 , niiri:residual_mean_squares_map_id , niiri:design_matrix_id , niiri:contrast_id, niiri:beta_map_id_1 ;
    prov:wasAssociatedWith niiri:software_id .

niiri:contrast_estimation_id_2 a prov:Activity , nidm:ContrastEstimation ;
	rdfs:label "Contrast estimation 2" ;
	prov:used niiri:mask_id_1 , niiri:residual_mean_squares_map_id , niiri:design_matrix_id , niiri:contrast_id_2, niiri:beta_map_id_3 ;
    prov:wasAssociatedWith niiri:software_id .

niiri:contrast_map_id a prov:Entity , nidm:ContrastMap ;
	rdfs:label "Contrast Map: listening > reading" ;
	prov:atLocation "file:///path/to/Contrast_0001.nii.gz"^^xsd:anyURI ;
	dct:format "image/nifti"^^xsd:string ;
	nidm:filename "Contrast_0001.nii.gz"^^xsd:string ;
	nidm:contrastName "listening > reading"^^xsd:string ;
	nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
	crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
    prov:wasGeneratedBy niiri:contrast_estimation_id .


niiri:contrast_map_id_2 a prov:Entity , nidm:ContrastMap ;
	rdfs:label "Contrast Map: motor" ;
	prov:atLocation "file:///path/to/Contrast_0002.nii.gz"^^xsd:anyURI ;
	dct:format "image/nifti"^^xsd:string ;
	nidm:filename "Contrast_0002.nii.gz"^^xsd:string ;
	nidm:contrastName "motor"^^xsd:string ;
	nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
	crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
    prov:wasGeneratedBy niiri:contrast_estimation_id_2 .


niiri:contrast_standard_error_map_id a prov:Entity , nidm:ContrastStandardErrorMap ;
	rdfs:label "Contrast 1 Standard Error Map" ;
	prov:atLocation "file:///path/to/ContrastStandardError_0001.nii.gz"^^xsd:anyURI ;
	nidm:filename "ContrastStandardError_0001.nii.gz"^^xsd:string ;
	dct:format "image/nifti"^^xsd:string ;
	nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
	crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
    prov:wasGeneratedBy niiri:contrast_estimation_id .

niiri:contrast_standard_error_map_id_2 a prov:Entity , nidm:ContrastStandardErrorMap ;
	rdfs:label "Contrast 2 Standard Error Map" ;
	prov:atLocation "file:///path/to/ContrastStandardError_0002.nii.gz"^^xsd:anyURI ;
	nidm:filename "ContrastStandardError_0002.nii.gz"^^xsd:string ;
	dct:format "image/nifti"^^xsd:string ;
	nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
	crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
    prov:wasGeneratedBy niiri:contrast_estimation_id_2 .

niiri:contrast_id a prov:Entity , nidm:ContrastWeights ;
	rdfs:label "Contrast: listening > reading" ;
	prov:value "[1, -1, 0, 0]"^^xsd:string ;
	nidm:statisticType nidm:TStatistic ;
	nidm:contrastName "listening > reading"^^xsd:string .

niiri:contrast_id_2 a prov:Entity , nidm:ContrastWeights ;
	rdfs:label "Contrast: motor" ;
	prov:value "[0, 0, 1]"^^xsd:string ;
	nidm:statisticType nidm:TStatistic ;
	nidm:contrastName "motor"^^xsd:string .

niiri:coordinate_space_id_1 a prov:Entity , nidm:CoordinateSpace ;
	rdfs:label "Coordinate space 1" ;
	nidm:voxelToWorldMapping "[[-3, 0, 0, 78],[0, 3, 0, -112],[0, 0, 3, -50],[0, 0, 0, 1]]"^^xsd:string ;
	nidm:voxelUnits "['mm', 'mm', 'mm']"^^xsd:string ;
	nidm:voxelSize "[3, 3, 3]"^^xsd:string ;
	nidm:inWorldCoordinateSystem nidm:MNICoordinateSystem ;
	nidm:numberOfDimensions "3"^^xsd:int ;
	nidm:dimensionsInVoxels "[53,63,46]"^^xsd:string .

niiri:data_id a prov:Entity , nidm:Data , prov:Collection ;
    rdfs:label "Data" ;
    nidm:grandMeanScaling "true"^^xsd:boolean ;
    nidm:targetIntensity "100"^^xsd:float .

niiri:contrast_map_id_der a prov:Entity , nidm:ContrastMap ;
    nidm:filename "con_0001.nii"^^xsd:string ;
    dct:format "image/nifti"^^xsd:string ;
    crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string .

niiri:contrast_map_id prov:wasDerivedFrom niiri:contrast_map_id_der .

niiri:contrast_map_id_2_der a prov:Entity , nidm:ContrastMap ;
    nidm:filename "con_0002.nii"^^xsd:string ;
    dct:format "image/nifti"^^xsd:string ;
    crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string .

niiri:contrast_map_id_2 prov:wasDerivedFrom niiri:contrast_map_id_2_der .

niiri:beta_map_id_1_der a prov:Entity , nidm:ParameterEstimateMap ;
    nidm:filename "beta_0001.nii"^^xsd:string ;
    dct:format "image/nifti"^^xsd:string ;
    crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string .

niiri:beta_map_id_1 prov:wasDerivedFrom niiri:beta_map_id_1_der .

niiri:beta_map_id_2_der a prov:Entity , nidm:ParameterEstimateMap ;
    nidm:filename "beta_0002.nii"^^xsd:string ;
    dct:format "image/nifti"^^xsd:string ;
    crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string .

niiri:beta_map_id_2 prov:wasDerivedFrom niiri:beta_map_id_2_der .

niiri:beta_map_id_3_der a prov:Entity , nidm:ParameterEstimateMap ;
    nidm:filename "beta_0003.nii"^^xsd:string ;
    dct:format "image/nifti"^^xsd:string ;
    crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string .

niiri:beta_map_id_3 prov:wasDerivedFrom niiri:beta_map_id_3_der .

niiri:resels_per_voxel_map_id_der a prov:Entity , spm:ReselsPerVoxelMap ;
    nidm:filename "RPV.nii"^^xsd:string ;
    dct:format "image/nifti"^^xsd:string ;
    crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string .

niiri:resels_per_voxel_map_id prov:wasDerivedFrom niiri:resels_per_voxel_map_id_der .

niiri:statistic_map_id_der a prov:Entity , nidm:StatisticMap ;
    nidm:filename "spmT_0001.nii"^^xsd:string ;
    dct:format "image/nifti"^^xsd:string ;
    crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string .

niiri:statistic_map_id prov:wasDerivedFrom niiri:statistic_map_id_der .

niiri:statistic_map_id_2_der a prov:Entity , nidm:StatisticMap ;
    nidm:filename "spmT_0002.nii"^^xsd:string ;
    dct:format "image/nifti"^^xsd:string ;
    crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string .

niiri:statistic_map_id_2 prov:wasDerivedFrom niiri:statistic_map_id_2_der .

niiri:design_matrix_id a prov:Entity , nidm:DesignMatrix ;
	rdfs:label "Design Matrix" ;
	prov:atLocation "file:///path/to/DesignMatrix.csv"^^xsd:anyURI ;
	dct:format "text/csv"^^xsd:string ;
	nidm:filename "DesignMatrix.csv"^^xsd:string ;
	nidm:visualisation niiri:design_matrix_png_id .

niiri:display_map_id a prov:Entity , nidm:DisplayMaskMap ;
	rdfs:label "Display Mask Map" ;
	prov:atLocation "file:///path/to/DisplayMask.nii.gz"^^xsd:anyURI ;
	dct:format "image/nifti"^^xsd:string ;
    nidm:filename "DisplayMask.nii.gz"^^xsd:string ;
	nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
	crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string .

niiri:error_model_id a prov:Entity , nidm:ErrorModel ;
    nidm:hasErrorDistribution nidm:GaussianDistribution ;
    nidm:errorVarianceHomogeneous "true"^^xsd:boolean ;
    nidm:varianceSpatialModel nidm:SpatiallyLocalModel ;
    nidm:hasErrorDependence nidm:IndependentError ;
    nidm:dependenceSpatialModel nidm:SpatiallyLocalModel .

niiri:extent_threshold_id a prov:Entity , nidm:ExtentThreshold ;
	rdfs:label "Extent Threshold: k>=10" ;
	nidm:clusterSizeInVoxels "10"^^xsd:int ;
	spm:clusterSizeInResels "3.3"^^xsd:float ;
	nidm:pValueUncorrected "1"^^xsd:float ;
	nidm:pValueFWER "1"^^xsd:float .

niiri:grand_mean_map_id a prov:Entity , nidm:GrandMeanMap ;
	rdfs:label "Grand Mean Map" ;
	prov:atLocation "file:///path/to/GrandMean.nii.gz"^^xsd:anyURI ;
	nidm:filename "GrandMean.nii.gz"^^xsd:string ;
	dct:format "image/nifti"^^xsd:string ;
	nidm:maskedMedian "115"^^xsd:float ;
	nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
	crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
    prov:wasGeneratedBy niiri:model_pe_id .

niiri:height_threshold_id a prov:Entity , nidm:HeightThreshold ;
	rdfs:label "Height Threshold: p<0.001 (unc)" ;
	prov:value "5.23529984739211"^^xsd:float ;
	nidm:userSpecifiedThresholdType "p-value uncorrected"^^xsd:string ;
	nidm:pValueUncorrected "7.62276079258051e-07"^^xsd:float ;
	nidm:pValueFWER "0.05"^^xsd:float .

niiri:design_matrix_png_id a prov:Entity , nidm:Image ;
	prov:atLocation "file:///path/to/DesignMatrix.png"^^xsd:anyURI ;
	nidm:filename "DesignMatrix.png"^^xsd:string ;
	dct:format "image/png"^^xsd:string .

niiri:mask_id_1 a prov:Entity , nidm:MaskMap ;
	rdfs:label "Mask" ;
	prov:atLocation "file:///path/to/Mask.nii.gz"^^xsd:anyURI ;
	nidm:filename "Mask.nii.gz"^^xsd:string ;
	dct:format "image/nifti"^^xsd:string ;
	nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
	crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
    prov:wasGeneratedBy niiri:model_pe_id .

niiri:model_pe_id prov:used niiri:error_model_id ;
	a prov:Activity , nidm:ModelParametersEstimation ;
	rdfs:label "Model parameters estimation" ;
	nidm:withEstimationMethod obo:STATO_0000370 ; # obo:'ordinary least squares estimation'
	prov:used niiri:design_matrix_id ;
    prov:used niiri:data_id ;
    prov:used niiri:error_model_id ;
    prov:wasAssociatedWith niiri:software_id .

niiri:spm_results_id a prov:Entity , prov:Bundle ;
	rdfs:label "SPM Results" ;
	nidm:objectModel nidm:SPMResults ;
	nidm:version "0.2.0"^^xsd:string .

_:blank1 a prov:Generation .

niiri:spm_results_id prov:qualifiedGeneration _:blank1 .

_:blank1 prov:atTime "2014-05-19T10:30:00.000+01:00"^^xsd:dateTime .

niiri:beta_map_id_1 a prov:Entity , nidm:ParameterEstimateMap ;
    rdfs:label "Beta Map 1" ;
    prov:atLocation "file:///path/to/ParameterEstimate_0001.nii.gz"^^xsd:anyURI ;
    nidm:filename "ParameterEstimate_0001.nii.gz"^^xsd:string ;
    dct:format "image/nifti"^^xsd:string ;
    nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
    crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
    prov:wasGeneratedBy niiri:model_pe_id .

niiri:beta_map_id_2 a prov:Entity , nidm:ParameterEstimateMap ;
    rdfs:label "Beta Map 2" ;
    prov:atLocation "file:///path/to/ParameterEstimate_0002.nii.gz"^^xsd:anyURI ;
    nidm:filename "ParameterEstimate_0002.nii.gz"^^xsd:string ;
    dct:format "image/nifti"^^xsd:string ;
    nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
    crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
    prov:wasGeneratedBy niiri:model_pe_id .

niiri:beta_map_id_3 a prov:Entity , nidm:ParameterEstimateMap ;
    rdfs:label "Beta Map 3" ;
    prov:atLocation "file:///path/to/ParameterEstimate_0003.nii.gz"^^xsd:anyURI ;
    nidm:filename "ParameterEstimate_0003.nii.gz"^^xsd:string ;
    dct:format "image/nifti"^^xsd:string ;
    nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
    crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
    prov:wasGeneratedBy niiri:model_pe_id .

niiri:peak_definition_criteria_id a prov:Entity , nidm:PeakDefinitionCriteria ;
	rdfs:label "Peak Definition Criteria" ;
	nidm:maxNumberOfPeaksPerCluster "3"^^xsd:int ;
	nidm:minDistanceBetweenPeaks "8.0"^^xsd:float .

niiri:residual_mean_squares_map_id a prov:Entity , nidm:ResidualMeanSquaresMap ;
	rdfs:label "Residual Mean Squares Map" ;
	prov:atLocation "file:///path/to/ResidualMeanSquares.nii.gz"^^xsd:anyURI ;
	nidm:filename "ResidualMeanSquares.nii.gz"^^xsd:string ;
	dct:format "image/nifti"^^xsd:string ;
	nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
	crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
    prov:wasGeneratedBy niiri:model_pe_id .

niiri:inference_id prov:used niiri:resels_per_voxel_map_id .

niiri:resels_per_voxel_map_id a prov:Entity , spm:ReselsPerVoxelMap ;
	rdfs:label "Resels per Voxel Map" ;
	prov:atLocation "file:///path/to/ReselsPerVoxel.nii.gz"^^xsd:anyURI ;
	nidm:filename "ReselsPerVoxel.nii.gz"^^xsd:string ;
	dct:format "image/nifti"^^xsd:string ;
	nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
	crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
    prov:wasGeneratedBy niiri:model_pe_id.

niiri:software_id a prov:Agent , nidm:SPM , prov:SoftwareAgent ;
	rdfs:label "SPM" ;
	nidm:softwareVersion "SPM12b"^^xsd:string ;
	spm:softwareRevision "5853"^^xsd:string .

niiri:statistic_map_id a prov:Entity , nidm:StatisticMap ;
	rdfs:label "Statistic Map: listening > reading" ;
	prov:atLocation "file:///path/to/TStatistic_0001.nii.gz"^^xsd:anyURI ;
	nidm:statisticType nidm:TStatistic ;
	nidm:filename "TStatistic_0001.nii.gz"^^xsd:string ;
	dct:format "image/nifti"^^xsd:string ;
	nidm:contrastName "listening > reading"^^xsd:string ;
	nidm:errorDegreesOfFreedom "72.9999999990787"^^xsd:float ;
	nidm:effectDegreesOfFreedom "1"^^xsd:float ;
	nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
	crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
	prov:wasGeneratedBy niiri:contrast_estimation_id.

niiri:statistic_map_id_2 a prov:Entity , nidm:StatisticMap ;
	rdfs:label "Statistic Map: motor" ;
	prov:atLocation "file:///path/to/TStatistic_0002.nii.gz"^^xsd:anyURI ;
	nidm:statisticType nidm:TStatistic ;
	nidm:filename "TStatistic_0002.nii.gz"^^xsd:string ;
	dct:format "image/nifti"^^xsd:string ;
	nidm:contrastName "motor"^^xsd:string ;
	nidm:errorDegreesOfFreedom "72.9999999990787"^^xsd:float ;
	nidm:effectDegreesOfFreedom "1"^^xsd:float ;
	nidm:inCoordinateSpace niiri:coordinate_space_id_1 ;
	crypto:sha512 "e43b6e01b0463fe7d40782137867a..."^^xsd:string ;
	prov:wasGeneratedBy niiri:contrast_estimation_id_2.

